<!DOCTYPE html>
        <html>
            <head>
                <meta charset="UTF-8">
                <title>A Demo Page</title>
                <script src = "../js/qwebchannel.js"></script>

                <script language = "javascript">
                    /*
                    function completeAndReturnName(){
                        var fname = document.getElementById('fname').value;
                        var lname = document.getElementById('lname').value;
                        var fullname = fname +' '+ lname;

                        document.getElementById('fullname').value = fullname;
                        document.getElementById('submit-btn').style.display = 'block';
                        return fullname;
                    }*/
                    window.onload = function() {
                    //document.addEventListener("DOMContentLoaded",function(){
                        new QWebChannel(qt.webChannelTransport, function (channel) {
                            //alert('111 chanel='+channel)
                            window.bridge = channel.objects.bridge;
                            //alert('bridge='+bridge.strValue +'\n从pyqt传来的参数='+window.bridge.strValue);
                            //alert('111 chanel='+ channel.objects.strValue)

                            //Web connect the Qt signal, then Qt can call "output" function

                            window.bridge.sgn.connect(function(st) 
                            {  
                                // alert("Received string from Qt: " + st);  
                                document.getElementById('lname').value = st;
                            });    
                        })
                    } ;
                    function onShowMsgBox() {
                        if(window.bridge != null){
                            //showAlert()
                            //console.log("msg")
                            var fname = document.getElementById('fname').value;
                            window.bridge.strValue = fname;  //调用对象
                        }
                    }
                    function showAlert(){
                        alert(' call fAbc\n');
                    }
                </script>
            </head>

            <body>
                <form>
                    <label id = "name">User Name:</label>
                    <input type = "text" name = "fname" id = "fname"></input>
                    <input type = "text" name = "lname" id = "lname"></input>
                    <br />
                    <input type = "text" name = "fullname" id = "fullname"></input>
                    <br />
                    
                    <input id = "submit-btn"  type = "button" value="传递参数到pyqt" onclick="onShowMsgBox()"></input>
                    <br />
                    <input type = "reset" value="重置" onclick="showAlert()"></input>

                </form>
            </body>
        </html>